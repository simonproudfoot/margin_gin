<template>
<footer class="p-4 flex-col md:flex-row md:items-center md:justify-between md:p-6 bg-black">
  <div class="md:flex justify-between w-full">
    <ul class="flex flex-col md:flex-row text-center md:text-right mb-0 flex-wrap items-center text-sm text-white sm:mt-0">
      <li v-for="page in $store.state.nav.footerNav" :key="page.id" class="hover:underline capitalize ml-0 mb-3 md:mb-0 md:mr-6">
        <nuxt-link v-if="page.type !== 'custom' && page.type_label == 'Page'" :to="'/' + page.slug" v-html="page.title"></nuxt-link>
        <nuxt-link  v-else-if="page.type !== 'custom' && page.type_label == 'Post'" :to="'/blog/' + page.slug" v-html="page.title"></nuxt-link>
        <a class="" v-else :href="page.url" target="_blank" v-html="page.title"></a>
      </li>
    </ul>
    <div class="md:flex">
      <ul class="mx-auto w-min flex h-min space-x-3 my-2 md:mx-0 md:w-auto md:justify-end md:pr-10">
        <li class="w-8" v-for="link in socials" :key="link.url">
          <a :href="link.url">
            <svg width="32" height="32" class="svg-icon text-white" viewBox="0 0 20 20" v-html="link.path" :aria-label="`Follow us on ${link.name}`" :alt="link.name"></svg>
          </a>
        </li>
      </ul>
      <input @keyup.enter="searchPosts" class="bg-black mt-4 md:mt-0 border w-full py-6 md:py-1 mb-3 md:mb-0 text-sm focus:ring-primary-500 focus:border-white block px-2 text-white m" type="text" placeholder="Search" />
    </div>
  </div>
  <span class="text-sm font-book block text-center t text-white order-2 mt-6 md:mt-5 pt-3">Â©{{ new Date().getFullYear() }} Margin London Ltd. All Rights Reserved.
  </span>
</footer>
</template>

<script>
export default {
  data() {
    return {
      socials: [{
          name: "Facebook",
          url: "https://facebook.com",
          path: `<path fill="#fff" d="M10,0.5c-5.247,0-9.5,4.253-9.5,9.5c0,5.247,4.253,9.5,9.5,9.5c5.247,0,9.5-4.253,9.5-9.5C19.5,4.753,15.247,0.5,10,0.5 M10,18.637c-4.77,0-8.636-3.867-8.636-8.637S5.23,1.364,10,1.364S18.637,5.23,18.637,10S14.77,18.637,10,18.637 M10.858,7.949c0-0.349,0.036-0.536,0.573-0.536h0.719v-1.3H11c-1.38,0-1.866,0.65-1.866,1.743v0.845h-0.86V10h0.86v3.887h1.723V10h1.149l0.152-1.299h-1.302L10.858,7.949z"></path>`,
        },
        {
          name: "Twitter",
          url: "https://twitter.com",
          path: `<path fill="#fff" d="M14.467,6.707c-0.34,0.198-0.715,0.342-1.115,0.419c-0.318-0.335-0.775-0.545-1.279-0.545c-0.969,0-1.754,0.773-1.754,1.727c0,0.135,0.015,0.267,0.045,0.394C8.905,8.628,7.612,7.94,6.747,6.896C6.596,7.151,6.509,7.448,6.509,7.764c0,0.599,0.31,1.128,0.78,1.438C7.002,9.192,6.732,9.115,6.495,8.985c0,0.007,0,0.014,0,0.021c0,0.837,0.605,1.535,1.408,1.694c-0.147,0.04-0.302,0.06-0.462,0.06c-0.113,0-0.223-0.011-0.33-0.031c0.223,0.687,0.871,1.186,1.638,1.199c-0.6,0.464-1.356,0.739-2.179,0.739c-0.142,0-0.281-0.007-0.418-0.023c0.777,0.489,1.699,0.775,2.689,0.775c3.228,0,4.991-2.63,4.991-4.913c0-0.075-0.002-0.149-0.004-0.223c0.342-0.244,0.639-0.547,0.875-0.894c-0.316,0.137-0.652,0.23-1.008,0.272C14.057,7.448,14.336,7.11,14.467,6.707 M10,0.594c-5.195,0-9.406,4.211-9.406,9.406c0,5.195,4.211,9.406,9.406,9.406c5.196,0,9.407-4.211,9.407-9.406C19.406,4.805,15.195,0.594,10,0.594 M10,18.552c-4.723,0-8.551-3.829-8.551-8.552S5.277,1.449,10,1.449c4.723,0,8.551,3.829,8.551,8.551S14.723,18.552,10,18.552"></path>`,
        },
        {
          name: "Instagram",
          url: "https://www.instagram.com/marginlondon_official/",
          path: `<path fill="#fff" d="M9.969,0.594c-5.195,0-9.406,4.211-9.406,9.406c0,5.195,4.211,9.406,9.406,9.406c5.195,0,9.406-4.211,9.406-9.406C19.375,4.805,15.164,0.594,9.969,0.594 M9.969,18.552c-4.723,0-8.551-3.829-8.551-8.552s3.829-8.551,8.551-8.551S18.521,5.277,18.521,10S14.691,18.552,9.969,18.552 M12.534,5.724H7.403c-0.944,0-1.71,0.766-1.71,1.71v5.131c0,0.944,0.766,1.71,1.71,1.71h5.131c0.944,0,1.71-0.766,1.71-1.71V7.435C14.244,6.49,13.479,5.724,12.534,5.724M11.679,7.007h1.283V8.29h-1.283V7.007z M9.969,8.29c0.944,0,1.71,0.766,1.71,1.71s-0.766,1.71-1.71,1.71s-1.71-0.766-1.71-1.71S9.024,8.29,9.969,8.29 M13.39,12.565c0,0.472-0.384,0.854-0.855,0.854H7.403c-0.472,0-0.855-0.383-0.855-0.854V9.573h0.898C7.423,9.712,7.403,9.854,7.403,10c0,1.417,1.149,2.565,2.565,2.565c1.416,0,2.565-1.148,2.565-2.565c0-0.146-0.02-0.288-0.043-0.427h0.898V12.565z"></path>`,
        },
      ],
    };
  },
  methods: {
    searchPosts(e) {
      let searchCriteria = e.target.value;
      if (searchCriteria) {
        this.$router.push(`/posts?criteria=${searchCriteria}`);
      }
    },
  },
};
</script>
